(()=>{"use strict";var e={11:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(601),r=n.n(o),i=n(314),a=n.n(i),s=n(417),c=n.n(s),l=new URL(n(21),n.b),d=a()(r()),p=c()(l);d.push([e.id,`*{scroll-behavior:smooth}::-webkit-scrollbar,::-webkit-scrollbar-track{scrollbar-width:thin;scrollbar-color:rgba(29,24,14,.7058823529) rgba(29,24,14,.7058823529);border-radius:10px}.modal-body::-webkit-scrollbar-thumb{background:#df3232;border-radius:10px}body::-webkit-scrollbar-thumb:hover,.modal-content::-webkit-scrollbar-thumb:hover{background:#555}a:hover,a:focus{color:var(--text-accent);transition:color 300ms linear;transition:color 300ms linear}p{font-weight:500;font-size:12px}button{cursor:pointer}body{font-family:"Roboto",sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;margin:0}p,h1,h2,h3,h4,h5,h6{margin:0}img{display:block}a{text-decoration:none;color:#000}ul{padding:0;margin:0}li{list-style:none}.container{max-width:320px;box-sizing:border-box;margin:0 auto;padding:40px 20px}.container--bg{background-image:url(${p});background-repeat:no-repeat;background-size:cover}.container--section{padding:20px}p,h1,h2,h3,h4,h5,h6{font-family:"Roboto",sans-serif}.nav{display:flex;margin-bottom:60px}.logo{display:flex;align-items:center}.logo__svg{width:24px;height:24px}.menu{display:flex;align-items:center;margin-left:auto}.menu-list{display:flex}.menu-list__item:nth-child(n+2){margin-left:40px}.search{box-sizing:border-box;width:100%}.search-form{display:flex;padding-bottom:5px}.search-input{width:230px;margin-right:5px;padding:5px;background-color:rgba(0,0,0,0);border:0px;border:1px solid rgba(128,128,128,.536);position:relative;color:#a09e9e}.search-input:hover,.search-input:focus{outline:none;border-color:gray}.search-input::placeholder{color:rgba(128,128,128,.536);font-style:italic;font-size:14px}.search-input:focus::placeholder,.search-input:hover::placeholder{color:gray}.search-input--svg{fill:red;position:relative;width:10px;height:10px;top:-14px;left:270px}.search-button{width:70px;text-transform:capitalize;background-color:rgba(128,128,128,.536);border:0px;cursor:pointer;color:#b6b4b4;outline:none}.search-button:hover{background-color:gray;color:#efefef}.warning{color:red}.movies{padding:20px}.warning{width:100%;height:30px}.movie-card{cursor:pointer;min-width:280px;margin-bottom:20px}.movie-img{max-width:280px;border-radius:5px}.movie-description{margin-top:10px}.movie-name{text-transform:uppercase}.movie-genre{text-transform:capitalize;color:#ff6b08}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);justify-content:center;align-items:center;z-index:1000;overflow:hidden}.modal--background{position:absolute;top:0;left:0;z-index:-1;background-size:cover;filter:blur(10px);width:100%;height:100%;background-position:50% 50%}.modal-content{position:absolute;width:280px;padding:40px 20px;border-radius:10px;background-color:#fff;z-index:1001;overflow-y:auto;max-height:80%;flex-grow:1;box-shadow:0px 0px 20px 20px rgba(0,0,0,.9)}.modal-close-button{position:absolute;top:15px;left:15px;border:0px;border-radius:100%}.modal-poster{max-width:240px;border-radius:5px;margin:0 auto}.modal-title{margin:20px 0;font-size:20px;font-weight:500}.metric-list{margin-bottom:20px}.metric-list__item{font-style:12px;margin:8px 0;display:flex;justify-content:space-between}.metric-list__item--name{color:#8c8c8c;text-transform:capitalize}.metric-list__item--value{width:200px;text-align:right}.metric-list__item--value--accent{background-color:#ff6b01;border-radius:5px;padding:2px 5px;margin-right:5px}.article{margin-bottom:20px}.article__title{margin-bottom:8px;text-transform:uppercase}.pagination{display:flex;justify-content:center}`,""]);const u=d},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=i[l]||0,p="".concat(l," ").concat(d);i[l]=d+1;var u=n(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=r(m,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=o(e,r),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},21:(e,t,n)=>{e.exports=n.p+"assets/images/background-with-red-lines-320-1x.jpeg"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",n.b=document.baseURI||self.location.href,n.nc=void 0;var o=n(72),r=n.n(o),i=n(825),a=n.n(i),s=n(659),c=n.n(s),l=n(56),d=n.n(l),p=n(540),u=n.n(p),m=n(113),f=n.n(m),h=n(11),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),r()(h.A,g),h.A&&h.A.locals&&h.A.locals;const b={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NjkyZGNhNjAxMmQzNjYwYTMzNjMwMDg3MmJkNjY0YyIsIm5iZiI6MTY1NzgwMTc3Ni4xMjQsInN1YiI6IjYyZDAwYzMwZDVmZmNiMDA0YzEyNDg1ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGMfaAikgHYhSiMqYuSvkAmCngKACueL-bCBj8drZOo"}},v=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function x(e){document.body.style.overflow="hidden",document.querySelector(".modal").style.display="flex",window.addEventListener("click",w),window.addEventListener("keydown",_),function(e){const t=document.querySelector(".modal-content"),{title:n,original_title:o,popularity:r,vote_average:i,vote_count:a,overview:s,genre_ids:c,backdrop_path:l,poster_path:d,id:p}=e[0];document.querySelector(".modal--background").style.backgroundImage=`url('https://image.tmdb.org/t/p/w500${l}')`;const u=function(e){const t=e.map((e=>{const t=v.find((({id:t})=>t===e));return t?t.name:"Unknown"}));return t}(c);t||console.error("error"),t.innerHTML=`\n  <button class="modal-close-button" type="button">x</button>\n  <img\n      class="modal-poster"\n      src="https://image.tmdb.org/t/p/w500${d}"\n      alt="movie poster"\n    />\n    \n    <div class="modal-description">\n\n      <h2 class="modal-title">${n}</h2>\n\n      <ul class="metric-list">\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">Vote / Votes</p>\n          <p class="metric-list__item--value"><span class="metric-list__item--value--accent">${i.toFixed(1)}</span>${a}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">Popularity</p>\n          <p class="metric-list__item--value">${r.toFixed(0)}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">original title</p>\n          <p class="metric-list__item--value">${o}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">genre</p>\n          <p class="metric-list__item--value">${u}</p>\n        </li>\n      </ul>\n\n\t  <article class="article">\n\t\t<h3 class="article__title">about</h3>\n\t\t<p class="article__description">${s}</p>\n\t  </article>\n\t  <button class="save-movie-btn" type="button">${function(e){return(JSON.parse(localStorage.getItem("selectedMovies"))||[]).some((t=>t[0]?.id===e[0]?.id))?"REMOVE":"ADD"}(e)}</button>\n\t  <button class="save-movie-btn" type="button">add to queue</button>\n    </div>\n  `;const m=document.querySelector(".save-movie-btn");m.addEventListener("click",(()=>{!function(e,t){"REMOVE"===e.textContent?(function(e){const t=(JSON.parse(localStorage.getItem("selectedMovies"))||[]).filter((t=>t[0]?.id!==e[0]?.id));localStorage.setItem("selectedMovies",JSON.stringify(t))}(t),e.textContent="ADD"):(function(e){const t=JSON.parse(localStorage.getItem("selectedMovies"))||[];t.some((t=>t[0]?.id===e[0]?.id))||(t.push(e),localStorage.setItem("selectedMovies",JSON.stringify(t)))}(t),e.textContent="REMOVE")}(m,e)}))}(e.movie_results),document.querySelector(".modal-close-button").addEventListener("click",y)}function y(){document.body.style.overflow="";const e=document.querySelector(".modal-close-button");document.querySelector(".modal").style.display="none",window.removeEventListener("click",w),window.removeEventListener("keydown",_),e.removeEventListener("click",y)}function w(e){const t=document.querySelector(".modal--background");e.target===t&&y()}function _(e){"Escape"!==e.key&&"Esc"!==e.key||y()}function k({results:e}){const t=document.querySelector(".movies");t?(t.innerHTML="",e.forEach((({poster_path:e,title:n,genre_ids:o,release_date:r,id:i})=>{const a=function(e){const t=e.map((e=>{const t=v.find((({id:t})=>t===e));return t?t.name:"Unknown"}));return t.length<3?t.join(", "):t[0]+", "+t[1]+", "+t[2]+" ..."}(o),s=r.slice(0,4),c=document.createElement("div");c.classList.add("movie-card"),c.innerHTML=`\n      <img class="movie-img" src="https://image.tmdb.org/t/p/w500${e}" alt="${n}" />\n      <div class="movie-description">\n        <p class="movie-name">${n}</p>\n        <p class="movie-genre">${a} | ${s}</p>\n      </div>\n    `,c.addEventListener("click",(()=>{!async function(e){try{x(await z(e))}catch(e){console.error("Error:",e)}}(i)})),t.appendChild(c)}))):console.error("error")}function S(e=1,t=1,n=""){document.querySelector(".pagination").innerHTML=`<button class="prev" type="button">Prev</button>\n\t<span class="page-info">${e} / ${t>100?"100+":t}<span id="current-page"></span></span>\n\t<button class="next">Next</button>`;const o=document.querySelector(".prev"),r=document.querySelector(".next");1==e&&o.setAttribute("disabled","false"),e==t&&r.setAttribute("disabled","false"),r.addEventListener("click",(()=>{M();const t=e+1;n?$(n,t):I(t)})),o.addEventListener("click",(()=>{M(),e>1&&o.removeAttribute("disabled"),e-=1,n?$(n,e):I(e)}))}function M(){window.scrollTo({top:0,behavior:"smooth"})}const E=async function(e=1){try{const t=await fetch(`https://api.themoviedb.org/3/movie/popular?language=en-US&page=${e}`,b);return await t.json()}catch(e){console.error("Error:",e)}};function I(e=1){E(e).then((e=>{if(e){const{page:t,total_pages:n}=e;k(e),S(t,n)}}))}I();const A=document.querySelector(".search-form"),j=document.querySelector(".search-input");function $(e,t=1){N(e,t).then((t=>{if(t){const{page:n,total_pages:o,results:r}=t;if(0===r){const e=document.querySelector(".warning");e.textContent="",e.textContent="Search result not successful. Enter the correct movie name or watch popular",I()}k(t),o>1&&S(n,o,e)}}))}const N=async function(e,t=1){if(e.trim())try{const n=await fetch(`https://api.themoviedb.org/3/search/movie?query=${e}&include_adult=false&language=en-US&page=${t}`,b);return await n.json()}catch(e){console.error("Error:",e)}};A.addEventListener("submit",(e=>{e.preventDefault(),$(j.value)}));const z=async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/external_ids`,b),n=await t.json(),o=await fetch(`https://api.themoviedb.org/3/find/${n.imdb_id}?external_source=imdb_id`,b);return await o.json()}catch(e){console.error("Error:",e)}}})();