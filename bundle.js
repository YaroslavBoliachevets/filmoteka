(()=>{"use strict";var e={11:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(601),i=n.n(o),r=n(314),a=n.n(r),s=n(417),c=n.n(s),l=new URL(n(21),n.b),d=a()(i()),p=c()(l);d.push([e.id,`*{scroll-behavior:smooth}::-webkit-scrollbar,::-webkit-scrollbar-track{scrollbar-width:thin;scrollbar-color:rgba(29,24,14,.7058823529) rgba(29,24,14,.7058823529);border-radius:10px}.modal-body::-webkit-scrollbar-thumb{background:#df3232;border-radius:10px}body::-webkit-scrollbar-thumb:hover,.modal-content::-webkit-scrollbar-thumb:hover{background:#555}a:hover,a:focus{color:var(--text-accent);transition:color 300ms linear;transition:color 300ms linear}p{font-weight:500;font-size:12px}button{cursor:pointer}body{font-family:"Roboto",sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;margin:0}p,h1,h2,h3,h4,h5,h6{margin:0}img{display:block}a{text-decoration:none;color:#000}ul{padding:0;margin:0}li{list-style:none}.container{max-width:320px;box-sizing:border-box;margin:0 auto;padding:40px 20px}.container--bg{background-image:url(${p});background-repeat:no-repeat;background-size:cover}.container--section{padding:20px}p,h1,h2,h3,h4,h5,h6{font-family:"Roboto",sans-serif}.nav{display:flex;margin-bottom:60px}.logo{display:flex;align-items:center}.logo__svg{width:24px;height:24px}.menu{display:flex;align-items:center;margin-left:auto}.menu-list{display:flex}.menu-list__item:nth-child(n+2){margin-left:40px}.search{box-sizing:border-box;width:100%}.search-form{display:flex;padding-bottom:5px}.search-input{width:230px;margin-right:5px;padding:5px;background-color:rgba(0,0,0,0);border:0px;border:1px solid rgba(128,128,128,.536);position:relative;color:#a09e9e}.search-input:hover,.search-input:focus{outline:none;border-color:gray}.search-input::placeholder{color:rgba(128,128,128,.536);font-style:italic;font-size:14px}.search-input:focus::placeholder,.search-input:hover::placeholder{color:gray}.search-input--svg{fill:red;position:relative;width:10px;height:10px;top:-14px;left:270px}.search-button{width:70px;text-transform:capitalize;background-color:rgba(128,128,128,.536);border:0px;cursor:pointer;color:#b6b4b4;outline:none}.search-button:hover{background-color:gray;color:#efefef}.warning{color:red}.movies{padding:20px}.warning{width:100%;height:30px}.movie-card{cursor:pointer;min-width:280px;margin-bottom:20px}.movie-img{max-width:280px;border-radius:5px}.movie-description{margin-top:10px}.movie-name{text-transform:uppercase}.movie-genre{text-transform:capitalize;color:#ff6b08}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);justify-content:center;align-items:center;z-index:1000;overflow:hidden}.modal--background{position:absolute;top:0;left:0;z-index:-1;background-size:cover;filter:blur(10px);width:100%;height:100%;background-position:50% 50%}.modal.is-open{display:flex}.modal-content{position:absolute;width:280px;padding:40px 20px;border-radius:10px;background-color:#fff;z-index:1001;overflow-y:auto;max-height:80%;flex-grow:1;box-shadow:0px 0px 20px 20px rgba(0,0,0,.9)}.modal-close-button{position:absolute;top:15px;left:15px;border:0px;border-radius:100%}.modal-poster{max-width:240px;border-radius:5px;margin:0 auto}.modal-title{margin:20px 0;font-size:20px;font-weight:500}.metric-list{margin-bottom:20px}.metric-list__item{font-style:12px;margin:8px 0;display:flex;justify-content:space-between}.metric-list__item--name{color:#8c8c8c;text-transform:capitalize}.metric-list__item--value{width:200px;text-align:right}.metric-list__item--value--accent{background-color:#ff6b01;border-radius:5px;padding:2px 5px;margin-right:5px}.article{margin-bottom:20px}.article__title{margin-bottom:8px;text-transform:uppercase}.pagination{display:flex;justify-content:center}.page{display:none}.page.active{display:block}.page.hidden{display:none}`,""]);const u=d},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=r[l]||0,p="".concat(l," ").concat(d);r[l]=d+1;var u=n(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=i(m,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=o(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=n(r[a]);t[s].references--}for(var c=o(e,i),l=0;l<r.length;l++){var d=n(r[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=c}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},21:(e,t,n)=>{e.exports=n.p+"assets/images/background-with-red-lines-320-1x.jpeg"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",n.b=document.baseURI||self.location.href,n.nc=void 0;var o=n(72),i=n.n(o),r=n(825),a=n.n(r),s=n(659),c=n.n(s),l=n(56),d=n.n(l),p=n(540),u=n.n(p),m=n(113),f=n.n(m),h=n(11),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=u(),i()(h.A,v),h.A&&h.A.locals&&h.A.locals;const b={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NjkyZGNhNjAxMmQzNjYwYTMzNjMwMDg3MmJkNjY0YyIsIm5iZiI6MTY1NzgwMTc3Ni4xMjQsInN1YiI6IjYyZDAwYzMwZDVmZmNiMDA0YzEyNDg1ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HGMfaAikgHYhSiMqYuSvkAmCngKACueL-bCBj8drZOo"}},g=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function x(e){return JSON.parse(localStorage.getItem(e))||[]}function y(e,t){localStorage.setItem(e,JSON.stringify(t))}function w(e){return x("selectedMovies").some((t=>t[0]?.id===e[0]?.id))?"REMOVE":"ADD"}function _(e){e||console.error(`${e} not found`)}function k(e){const t=document.querySelector(`${e}`);return _(t),t}function E(e=1){(async function(e=1){try{const t=await fetch(`https://api.themoviedb.org/3/movie/popular?language=en-US&page=${e}`,b);return await t.json()}catch(e){console.error("Error:",e)}})(e).then((e=>{if(e){const{page:t,total_pages:n}=e;N(e),y("movies",e),y("query",""),y("scrollPosition",0),M(t,n)}}))}function M(e=1,t=1,n=""){k(".pagination").innerHTML=`<button class="prev" type="button">Prev</button>\n\t<span class="page-info">${e} / ${t>100?"100+":t}<span id="current-page"></span></span>\n\t<button class="next">Next</button>`;const o=k(".prev"),i=k(".next");var r;r=o,1===e?r.setAttribute("disabled","true"):r.removeAttribute("disabled"),e==t&&i.setAttribute("disabled","false"),i.removeEventListener("click",L),i.addEventListener("click",(()=>{L(e,n)})),o.removeEventListener("click",A),o.addEventListener("click",(()=>{A(o,e,n)}))}function L(e,t){$();const n=e+1;t?R(t,n):E(n)}function A(e,t,n){$(),t>1&&e.removeAttribute("disabled"),t-=1,n?R(n,t):E(t)}function $(){window.scrollTo({top:0,behavior:"smooth"})}function C(){k(".library").classList.add("accent");const e=x("selectedMovies");_(e),N({results:e.flat()}),M()}function T(e){y("scrollPosition",window.scrollY),_(e),document.body.style.overflow="hidden";const t=k(".modal");t.classList.add("is-open"),window.addEventListener("click",S),window.addEventListener("keydown",I),function(e){_(e);const t=k(".modal-content"),{title:n="Unknown Title",original_title:o="Unknown Original Title",popularity:i=0,vote_average:r=0,vote_count:a=0,overview:s="No description available",genre_ids:c=[],backdrop_path:l,poster_path:d,id:p}=e[0];k(".modal--background").style.backgroundImage=`url('https://image.tmdb.org/t/p/w500${l}')`;const u=function(e){const t=e.map((e=>{const t=g.find((({id:t})=>t===e));return t?t.name:"Unknown"}));return t}(c);_(t),t.innerHTML=`\n  <button class="modal-close-button" type="button">x</button>\n  <img\n      class="modal-poster"\n      src="https://image.tmdb.org/t/p/w500${d}"\n      alt="movie poster"\n    />\n    <div class="modal-description">\n      <h2 class="modal-title">${n}</h2>\n\n      ${function(e,t,n,o,i){return`\n  <ul class="metric-list">\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">Vote / Votes</p>\n          <p class="metric-list__item--value"><span class="metric-list__item--value--accent">${e.toFixed(1)}</span>${t}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">Popularity</p>\n          <p class="metric-list__item--value">${n.toFixed(0)}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">original title</p>\n          <p class="metric-list__item--value">${o}</p>\n        </li>\n        <li class="metric-list__item">\n          <p class="metric-list__item--name">genre</p>\n          <p class="metric-list__item--value">${i}</p>\n        </li>\n      </ul>\n  `}(r,a,i,o,u)}\n      ${function(e){return`\n  <article class="article">\n\t\t<h3 class="article__title">about</h3>\n\t\t<p class="article__description">${e}</p>\n\t  </article>\n  `}(s)}\n      ${function(e){return`\n<button class="save-movie-btn ${w(e)}" type="button">${w(e)}</button>\n\t  <button class="save-movie-btn" type="button">add to queue</button>\n`}(e)}\n\t  \n\t  \n    </div>\n  `;const m=k(".save-movie-btn");m.addEventListener("click",(()=>{!function(e,t){e&&t?e.classList.contains("REMOVE")?(function(e){y("selectedMovies",x("selectedMovies").filter((t=>t[0]?.id!==e[0]?.id)))}(t),e.classList.remove("REMOVE"),e.classList.add("ADD"),e.textContent="ADD"):(e.classList.add("REMOVE"),function(e){if(!e[0]||!e[0].id)return void console.error("invalid movie obj");const t=x("selectedMovies");t.some((t=>t[0]?.id===e[0]?.id))||(t.push(e),y("selectedMovies",t))}(t),e.classList.remove("ADD"),e.classList.add("REMOVE"),e.textContent="REMOVE"):console.error("invalid btn or movie obj")}(m,e)}))}(e.movie_results);const n=k(".modal-close-button");t._outsideClickHandler=S,t._handleEscClose=I,n._handleCloseBtnClick=z,n.addEventListener("click",z)}function j(){document.body.style.overflow="";const e=k(".modal-close-button"),t=k(".modal");t.classList.remove("is-open"),window.removeEventListener("click",t._outsideClick),window.removeEventListener("keydown",t._handleEscClose),e.removeEventListener("click",t._handleCloseBtnClick),N(x("movies"),x("page"),x("query")),function(){if(k(".library").classList.contains("accent")){const e=x("scrollPosition");C(),setTimeout((()=>{window.scrollTo(0,e)}),400)}}()}function S(e){const t=k(".modal--background");e.target===t&&j()}function I(e){"Escape"!==e.key&&"Esc"!==e.key||j()}function z(){j()}function N({results:e},t=1,n=""){const o=k(".movies");o.innerHTML="",e.forEach((({poster_path:e,title:t="Unknown Title",genre_ids:n=[],release_date:i="Unknown date",id:r=""})=>{const a=function(e){const t=e.map((e=>{const t=g.find((({id:t})=>t===e));return t?t.name:"Unknown"}));return t.length<3?t.join(", "):t[0]+", "+t[1]+", "+t[2]+" ..."}(n),s=i?.slice(0,4),c=document.createElement("div");c.classList.add("movie-card"),c.innerHTML=`\n      ${function(e){return x("selectedMovies").some((t=>t[0]?.id===e))?"<button>SSSSSAAAAAAVED</button>":""}(r)}\n      <img class="movie-img" src="https://image.tmdb.org/t/p/w500${e}" alt="${t}" />\n      <div class="movie-description">\n        <p class="movie-name">${t}</p>\n        <p class="movie-genre">${a} | ${s}</p>\n      </div>\n    `,c.addEventListener("click",(()=>{!async function(e){try{T(await H(e))}catch(e){console.error("Error1:",e)}}(r)})),o.appendChild(c)}))}E(),k(".library").addEventListener("click",(e=>{e.preventDefault(),C()}));const D=k(".search-form"),O=k(".search-input");function R(e,t=1){_(e),U(e,t).then((t=>{if(t){const{page:n,total_pages:o,results:i}=t;if(y("query",e),y("movies",t),_(i),0===i){const e=k(".warning");e.textContent="",e.textContent="Search result not successful. Enter the correct movie name or watch popular",E()}N(t),M(n,o,e)}}))}const U=async function(e,t=1){if(e.trim())try{const n=await fetch(`https://api.themoviedb.org/3/search/movie?query=${e}&include_adult=false&language=en-US&page=${t}`,b);if(!n.ok)throw new Error(`HTTP error, status ${n.status}`);return await n.json()}catch(e){console.error("Error:",e)}};D.addEventListener("submit",(e=>{e.preventDefault(),R(O.value.trim())}));const H=async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/external_ids`,b),n=await t.json(),o=await fetch(`https://api.themoviedb.org/3/find/${n.imdb_id}?external_source=imdb_id`,b);return await o.json()}catch(e){console.error("Error:",e)}}})();